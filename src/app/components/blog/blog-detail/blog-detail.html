<i ng-show='!$ctrl.item' class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
<button ui-sref="blog" class='goBackBtn btn btn-primary'><i class="fa fa-chevron-left" aria-hidden="true"></i></button>
<edit-blog param = "$ctrl.param" edit-blog = '$ctrl.editBlog($event)' blog-item = '$ctrl.item'></edit-blog>
<div class = 'main' id="blogDetail">
    <div class ='blogPostItems bottomBorder'>
    <h1>{{$ctrl.item.title}}</h1>
    <p class="name blogItemName">{{$ctrl.item.name}}</p>
    <p class="date blogItemDate"><span ng-show="$ctrl.item.dateEdited">Posted: </span>{{$ctrl.item.date}}</p>
    <p ng-show="$ctrl.item.dateEdited" class="date blogItemDate">Edited: {{$ctrl.item.dateEdited}}</p>
    <div class="item-desc">{{$ctrl.item.description}}</div>
    <div class="btn-group">
        <button  class='btn btn-primary' form-name = "editFormContainer" modal>Edit</button>
        <button class = 'btn btn-default' message = "Are you sure?" confirmed-click='$ctrl.deleteBlog($ctrl.item._id)' type="button" confirm>Delete</button>
    </div>
    <div class="badgesContainer">
        <div class = "clickable" ng-click="$ctrl.likeBlog()">
            <span class="badge">
                <i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
            </span>
            {{$ctrl.item.likes}}
        </div>
        <div class = "clickable" ng-click="$ctrl.dislikeBlog()">
            <span class="badge">
                <i class="fa fa-thumbs-o-down" aria-hidden="true"></i>
            </span>
            {{$ctrl.item.dislikes}}
        </div>
        <div>
            <span class="badge">
                <i class="fa fa-search" aria-hidden="true"></i>
            </span>
            {{$ctrl.item.views}}
        </div>        
    </div>
    <div class="btn-group">
        <button ng-if = "$ctrl.current > 0" ui-sref='blogItem({ blogId: $ctrl.blogItems[$ctrl.current-1]._id })' class='btn btn-primary'>Prev</button>
        <button ng-if = "$ctrl.current === 0" class='btn btn-primary' disabled>Prev</button>
        
        <button ng-if = "$ctrl.current < $ctrl.blogItems.length - 1" ui-sref='blogItem({ blogId: $ctrl.blogItems[$ctrl.current+1]._id })' class='btn btn-primary'>Next</button>
        <button ng-if = "$ctrl.current === $ctrl.blogItems.length - 1" class='btn btn-primary' disabled>Next</button>
    </div>
</div> 
    <h3>Comments <span>({{$ctrl.item.comments.length}})</span></h3>
    <add-comments param = "$ctrl.param" blog-items = "$ctrl.blogItems" item = "$ctrl.item"></add-comments>
</div>