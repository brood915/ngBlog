<div class = 'main'>
    <div>
        <button ui-sref="blog" class='btn btn-primary'>Go Back</button>
        <div>{{$ctrl.item.id}}</div>
        <div>{{$ctrl.item.title}}</div>
        <div>{{$ctrl.item.description}}</div>

        <h3>Comments</h3>
        <ul>
            <li ng-repeat = 'comment in $ctrl.item.comments'>{{comment.text}}
                <button message = "Are you sure?" confirmed-click='$ctrl.deleteComment($index)' confirm>X</button>                
            </li>
        </ul>
    </div>

    <form name = 'addCommentForm' novalidate ng-submit='addCommentForm.$valid && $ctrl.addComment()'>
        <div class="form-group commentFormGroup"
         ng-class = "{
           'has-success has-feedback' : (addCommentForm.comment.$dirty || addCommentForm.$submitted) && addCommentForm.comment.$valid,
           'has-error has-feedback' : (addCommentForm.comment.$dirty || addCommentForm.$submitted) && addCommentForm.comment.$invalid
         }"
        >
            <input placeholder="write a comment..." class = 'form-control' name = 'comment' type='text' ng-model='$ctrl.comment.text' required></input>
            <span class="glyphicon form-control-feedback"
            ng-class = " {
              'glyphicon-ok': (addCommentForm.comment.$dirty || addCommentForm.$submitted) && addCommentForm.comment.$valid,
              'glyphicon-remove': (addCommentForm.comment.$dirty || addCommentForm.$submitted) && addCommentForm.comment.$invalid
            }"
            />
        </div>
    </form>
</div>